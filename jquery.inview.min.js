(function(c){var l={},b,m,e=document,j=window,i=e.documentElement,k=c.expando,a;c.event.special.inview={add:function(d){l[d.guid+"-"+this[k]]={data:d,$element:c(this)};if(!a&&!c.isEmptyObject(l)){a=setInterval(g,250)}},remove:function(d){try{delete l[d.guid+"-"+this[k]]}catch(n){}if(c.isEmptyObject(l)){clearInterval(a);a=null}}};function h(){var o,d,n={height:j.innerHeight,width:j.innerWidth};if(!n.height){o=e.compatMode;if(o||!c.support.boxModel){d=o==="CSS1Compat"?i:e.body;n={height:d.clientHeight,width:d.clientWidth}}}return n}function f(){return{top:j.pageYOffset||i.scrollTop||e.body.scrollTop,left:j.pageXOffset||i.scrollLeft||e.body.scrollLeft}}function g(){var s=c(),r,q=0;c.each(l,function(C,B){var z=B.data.selector,A=B.$element;s=s.add(z?A.find(z):A)});r=s.length;if(r){b=b||h();m=m||f();for(;q<r;q++){if(!c.contains(i,s[q])){continue}var x=c(s[q]),y={height:x.height(),width:x.width()},d=x.offset(),t=x.data("inview"),p=0,o=0,n=0,v,u,w;if(p=x.data("offset")){o=p;n=p}else{if(p=x.data("offset-left")){o=p}else{if(p=x.data("offset-top")){n=p}}}if(!m||!b){return}if(d.top+y.height>m.top-n&&d.top<m.top+b.height+n&&d.left+y.width>m.left-o&&d.left<m.left+b.width+o){v=(m.left>d.left?"right":(m.left+b.width)<(d.left+y.width)?"left":"both");u=(m.top>d.top?"bottom":(m.top+b.height)<(d.top+y.height)?"top":"both");w=v+"-"+u;if(!t||t!==w){x.data("inview",w).trigger("inview",[true,v,u])}}else{if(t){x.data("inview",false).trigger("inview",[false])}}}}}c(j).bind("scroll resize",function(){b=m=null});if(!i.addEventListener&&i.attachEvent){i.attachEvent("onfocusin",function(){m=null})}})(jQuery);
